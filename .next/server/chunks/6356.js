exports.id=6356,exports.ids=[6356],exports.modules={20198:(e,s,t)=>{let r={"23e9c51014680db5d8234599697c490f757d3b00":()=>Promise.resolve().then(t.bind(t,93213)).then(e=>e.deleteKeylessAction),"33111fb8beae5f0d249000f70b2cc1c8b43ca160":()=>Promise.resolve().then(t.bind(t,93213)).then(e=>e.syncKeylessConfigAction),"4b8929385f51c7048d73d4216c92cdb014b8dcc7":()=>Promise.resolve().then(t.bind(t,93213)).then(e=>e.detectKeylessEnvDriftAction),bd8548f286b08cd43ec1b24d64aa1a532fa4837c:()=>Promise.resolve().then(t.bind(t,93213)).then(e=>e.createOrReadKeylessAction),"5a21c0dde815216d838d57f8cbe92c43ae5c3ab1":()=>Promise.resolve().then(t.bind(t,3479)).then(e=>e.invalidateCacheAction)};async function a(e,...s){return(await r[e]()).apply(null,s)}e.exports={"23e9c51014680db5d8234599697c490f757d3b00":a.bind(null,"23e9c51014680db5d8234599697c490f757d3b00"),"33111fb8beae5f0d249000f70b2cc1c8b43ca160":a.bind(null,"33111fb8beae5f0d249000f70b2cc1c8b43ca160"),"4b8929385f51c7048d73d4216c92cdb014b8dcc7":a.bind(null,"4b8929385f51c7048d73d4216c92cdb014b8dcc7"),bd8548f286b08cd43ec1b24d64aa1a532fa4837c:a.bind(null,"bd8548f286b08cd43ec1b24d64aa1a532fa4837c"),"5a21c0dde815216d838d57f8cbe92c43ae5c3ab1":a.bind(null,"5a21c0dde815216d838d57f8cbe92c43ae5c3ab1")}},18037:(e,s,t)=>{Promise.resolve().then(t.bind(t,83828))},3046:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},76685:(e,s,t)=>{"use strict";t.d(s,{Z:()=>h});var r=t(10326),a=t(17577),l=t(41291),i=t(62881);let d=(0,i.Z)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),n=(0,i.Z)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),o=(0,i.Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),c=(0,i.Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function h(){let[e,s]=(0,a.useState)(!1),[t,i]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null),[x,u]=(0,a.useState)(null),[b,p]=(0,a.useState)(0),[f,g]=(0,a.useState)(!0),[y,w]=(0,a.useState)(""),j=(0,a.useRef)(null),v=(0,a.useRef)([]);async function N(){try{u(null);let e=await navigator.mediaDevices.getUserMedia({audio:!0});v.current=[];let t=new MediaRecorder(e,{mimeType:"audio/webm"});j.current=t,t.ondataavailable=e=>{e.data&&e.data.size>0&&v.current.push(e.data)},t.onstop=()=>{e.getTracks().forEach(e=>e.stop())},t.start(),s(!0)}catch(e){u(e?.message||"Microphone permission denied or unsupported browser.")}}async function k(){let e=j.current;if(!e){u("Recorder not initialized.");return}return i(!0),new Promise(t=>{e.onstop=async()=>{try{let e=new Blob(v.current,{type:"audio/webm"});if(e.size<2e3){u("Recording too short. Please record for at least 1 second."),i(!1),t();return}console.log("Session ID:",y),console.log("Blob size:",e.size);let s=new FormData;s.append("file",e,"speech.webm"),s.append("sessionId",y),console.log("Uploading to /api/audio/upload...");let r=await fetch("/api/audio/upload",{method:"POST",body:s});if(!r.ok){let e=await r.text();throw console.error("Upload failed:",e),Error(e||`Upload failed: ${r.status}`)}let a=await r.json();console.log("Upload response:",a);let l={sessionId:y,pathOrUrl:a.storagePath||a.signedUrl};console.log("Calling /api/voice with payload:",l);let d=await fetch("/api/voice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!d.ok){let e=await d.text();throw console.error("Voice pipeline failed:",e),Error(e||`Voice pipeline failed: ${d.status}`)}let n=await d.json();console.log("Voice response:",n),n?.ttsAudioUrl&&new Audio(n.ttsAudioUrl).play().catch(e=>{console.error("Audio playback failed:",e)}),m(n),u(null)}catch(e){console.error("Error in stopRecordingAndUpload:",e),u(e?.message||"Failed to analyze audio. Please try again.")}finally{i(!1),t()}},j.current.stop(),s(!1)})}return f?(0,r.jsxs)("div",{className:"max-w-3xl mx-auto p-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[!e&&!t&&!h&&(0,r.jsxs)("button",{onClick:N,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Start recording",children:[r.jsx(d,{className:"w-5 h-5"}),"Start Recording"]}),e&&(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-2xl font-mono font-bold text-gray-800",children:`${Math.floor(b/60).toString().padStart(2,"0")}:${(b%60).toString().padStart(2,"0")}`})]}),(0,r.jsxs)("button",{onClick:k,className:"flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors","aria-label":"Stop recording",children:[r.jsx(n,{className:"w-5 h-5"}),"Stop & Analyze"]})]}),t&&(0,r.jsxs)("div",{className:"flex items-center gap-3 text-blue-600",children:[r.jsx(o,{className:"w-6 h-6 animate-spin"}),r.jsx("span",{className:"font-medium",children:"Processing audio..."})]}),h&&r.jsx("button",{onClick:function(){m(null),u(null),s(!1),i(!1),p(0),v.current=[],j.current=null},className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:"Record Again"})]})}),x&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-start gap-3",children:[r.jsx(l.Z,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-red-700 font-medium",children:"Error"}),r.jsx("p",{className:"text-red-600 text-sm",children:x})]})]}),h&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-green-600 mb-4",children:[r.jsx(c,{className:"w-6 h-6"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Analysis Complete"})]}),h.transcript&&(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Transcript"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:r.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:h.transcript})})]}),h.emotions&&(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Emotional Analysis"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:r.jsx("pre",{className:"text-sm text-gray-700 overflow-x-auto",children:JSON.stringify(h.emotions,null,2)})})]}),h.assistantText&&(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"AI Response"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:r.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:h.assistantText})})]}),h.ttsAudioUrl&&(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"AI Audio"}),r.jsx("audio",{src:h.ttsAudioUrl,controls:!0,preload:"none",className:"w-full"})]})]})]}):r.jsx("div",{className:"max-w-3xl mx-auto p-6",children:r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsx(l.Z,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),r.jsx("p",{className:"text-red-700",children:"Your browser doesn't support audio recording."}),r.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Please use a modern browser like Chrome, Firefox, or Edge."})]})})})}},83828:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(10326),a=t(89886);t(4047);var l=t(17577),i=t(90434),d=t(35047);function n(){let[e,s]=(0,l.useState)(!1),t=(0,d.usePathname)(),a=[{href:"/",label:"Home"},{href:"/selfie",label:"Selfie"},{href:"/music",label:"Music"},{href:"/dashboard",label:"Dashboard"}];return r.jsx("nav",{className:"bg-white shadow-lg",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:"AI Journal"}),r.jsx("ul",{className:"hidden md:flex space-x-6",children:a.map(e=>r.jsx("li",{children:r.jsx(i.default,{href:e.href,className:`text-gray-700 font-medium hover:text-indigo-600 transition-colors ${t===e.href?"text-indigo-600 underline":""}`,children:e.label})},e.href))}),r.jsx("div",{className:"md:hidden",children:r.jsx("button",{onClick:()=>s(!e),className:"text-gray-700 focus:outline-none",children:e?r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),e&&r.jsx("ul",{className:"md:hidden mt-2 space-y-2 px-2 pb-4",children:a.map(e=>r.jsx("li",{children:r.jsx(i.default,{href:e.href,onClick:()=>s(!1),className:`block text-gray-700 font-medium hover:text-indigo-600 transition-colors ${t===e.href?"text-indigo-600 underline":""}`,children:e.label})},e.href))})]})})}function o({children:e}){return r.jsx(a.El,{children:r.jsx("html",{lang:"en",className:"h-full w-full",children:(0,r.jsxs)("body",{className:"bg-gray-50 min-h-screen w-screen text-gray-900",children:[r.jsx(n,{}),r.jsx("main",{className:"flex-1 h-full w-screen mt-6",children:e})]})})})}},62881:(e,s,t)=>{"use strict";t.d(s,{Z:()=>h});var r=t(17577);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase()),i=e=>{let s=l(e);return s.charAt(0).toUpperCase()+s.slice(1)},d=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim(),n=e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:l="",children:i,iconNode:c,...h},m)=>(0,r.createElement)("svg",{ref:m,...o,width:s,height:s,stroke:e,strokeWidth:a?24*Number(t)/Number(s):t,className:d("lucide",l),...!i&&!n(h)&&{"aria-hidden":"true"},...h},[...c.map(([e,s])=>(0,r.createElement)(e,s)),...Array.isArray(i)?i:[i]])),h=(e,s)=>{let t=(0,r.forwardRef)(({className:t,...l},n)=>(0,r.createElement)(c,{ref:n,iconNode:s,className:d(`lucide-${a(i(e))}`,`lucide-${e}`,t),...l}));return t.displayName=i(e),t}},41291:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},11506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\Users\Garima\Desktop\Mood_mate\app\layout.tsx#default`)},4047:()=>{}};