(()=>{var e={};e.id=45,e.ids=[45],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},92048:e=>{"use strict";e.exports=require("fs")},76162:e=>{"use strict";e.exports=require("stream")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},49411:e=>{"use strict";e.exports=require("node:path")},43891:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(81480),s(11506),s(35866);var r=s(23191),a=s(88716),l=s(37922),n=s.n(l),i=s(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["selfie",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,81480)),"C:\\Users\\Garima\\Desktop\\Mood_mate\\app\\selfie\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"C:\\Users\\Garima\\Desktop\\Mood_mate\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Garima\\Desktop\\Mood_mate\\app\\selfie\\page.tsx"],m="/selfie/page",h={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/selfie/page",pathname:"/selfie",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},20198:(e,t,s)=>{let r={"23e9c51014680db5d8234599697c490f757d3b00":()=>Promise.resolve().then(s.bind(s,93213)).then(e=>e.deleteKeylessAction),"33111fb8beae5f0d249000f70b2cc1c8b43ca160":()=>Promise.resolve().then(s.bind(s,93213)).then(e=>e.syncKeylessConfigAction),"4b8929385f51c7048d73d4216c92cdb014b8dcc7":()=>Promise.resolve().then(s.bind(s,93213)).then(e=>e.detectKeylessEnvDriftAction),bd8548f286b08cd43ec1b24d64aa1a532fa4837c:()=>Promise.resolve().then(s.bind(s,93213)).then(e=>e.createOrReadKeylessAction),"5a21c0dde815216d838d57f8cbe92c43ae5c3ab1":()=>Promise.resolve().then(s.bind(s,3479)).then(e=>e.invalidateCacheAction)};async function a(e,...t){return(await r[e]()).apply(null,t)}e.exports={"23e9c51014680db5d8234599697c490f757d3b00":a.bind(null,"23e9c51014680db5d8234599697c490f757d3b00"),"33111fb8beae5f0d249000f70b2cc1c8b43ca160":a.bind(null,"33111fb8beae5f0d249000f70b2cc1c8b43ca160"),"4b8929385f51c7048d73d4216c92cdb014b8dcc7":a.bind(null,"4b8929385f51c7048d73d4216c92cdb014b8dcc7"),bd8548f286b08cd43ec1b24d64aa1a532fa4837c:a.bind(null,"bd8548f286b08cd43ec1b24d64aa1a532fa4837c"),"5a21c0dde815216d838d57f8cbe92c43ae5c3ab1":a.bind(null,"5a21c0dde815216d838d57f8cbe92c43ae5c3ab1")}},18037:(e,t,s)=>{Promise.resolve().then(s.bind(s,83828))},89814:(e,t,s)=>{Promise.resolve().then(s.bind(s,85468))},3046:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},83828:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(10326),a=s(89886);s(4047);var l=s(17577),n=s(90434),i=s(35047);function o(){let[e,t]=(0,l.useState)(!1),s=(0,i.usePathname)(),a=[{href:"/",label:"Home"},{href:"/selfie",label:"Selfie"},{href:"/music",label:"Music"},{href:"/dashboard",label:"Dashboard"}];return r.jsx("nav",{className:"bg-white shadow-lg",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:"AI Journal"}),r.jsx("ul",{className:"hidden md:flex space-x-6",children:a.map(e=>r.jsx("li",{children:r.jsx(n.default,{href:e.href,className:`text-gray-700 font-medium hover:text-indigo-600 transition-colors ${s===e.href?"text-indigo-600 underline":""}`,children:e.label})},e.href))}),r.jsx("div",{className:"md:hidden",children:r.jsx("button",{onClick:()=>t(!e),className:"text-gray-700 focus:outline-none",children:e?r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),e&&r.jsx("ul",{className:"md:hidden mt-2 space-y-2 px-2 pb-4",children:a.map(e=>r.jsx("li",{children:r.jsx(n.default,{href:e.href,onClick:()=>t(!1),className:`block text-gray-700 font-medium hover:text-indigo-600 transition-colors ${s===e.href?"text-indigo-600 underline":""}`,children:e.label})},e.href))})]})})}function d({children:e}){return r.jsx(a.El,{children:r.jsx("html",{lang:"en",className:"h-full w-full",children:(0,r.jsxs)("body",{className:"bg-gray-50 min-h-screen w-screen text-gray-900",children:[r.jsx(o,{}),r.jsx("main",{className:"flex-1 h-full w-screen mt-6",children:e})]})})})}},85468:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(10326),a=s(17577),l=s(62881);let n=(0,l.Z)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),i=(0,l.Z)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),o=(0,l.Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),d=(0,l.Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var c=s(41291);let m={happiness:"from-yellow-400 to-orange-400",sadness:"from-blue-400 to-indigo-500",anger:"from-red-400 to-pink-500",surprise:"from-purple-400 to-pink-400",fear:"from-gray-400 to-slate-500",disgust:"from-green-400 to-teal-500",neutral:"from-gray-300 to-gray-400"},h={happiness:"\uD83D\uDE0A",sadness:"\uD83D\uDE22",anger:"\uD83D\uDE20",surprise:"\uD83D\uDE32",fear:"\uD83D\uDE28",disgust:"\uD83E\uDD22",neutral:"\uD83D\uDE10"};function x(){let[e,t]=(0,a.useState)(null),[s,l]=(0,a.useState)(!1),[x,u]=(0,a.useState)([]),[p,f]=(0,a.useState)(null),[g,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(null),j=(0,a.useRef)(null),w=(0,a.useRef)(null),N=(0,a.useRef)(null),k=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});y(e),j.current&&(j.current.srcObject=e),b(!0),f(null)}catch(e){f("Failed to access camera. Please grant camera permissions."),console.error("Camera error:",e)}},P=()=>{v&&(v.getTracks().forEach(e=>e.stop()),y(null)),b(!1)},D=async e=>{l(!0),f(null),u([]);try{let t=e.split(",")[1],s=await fetch(`data:image/jpeg;base64,${t}`).then(e=>e.blob()),r=new FormData;r.append("photo",s,"photo.jpg");let a=await fetch("/api/emotion",{method:"POST",body:r});if(!a.ok)throw Error("Failed to analyze emotion");let l=await a.json();if(l.faces&&l.faces.length>0){let e=l.faces.map(e=>({emotions:{happiness:e.emotion.happy,sadness:e.emotion.sad,anger:e.emotion.angry,surprise:e.emotion.surprise,fear:e.emotion.fear,disgust:e.emotion.disgust,neutral:e.emotion.neutral},age:e.age||0,gender:e.gender||"unknown"}));u(e)}else f("No faces detected. Try another photo.")}catch(e){console.error(e),f(e.message||"Failed to analyze emotion")}finally{l(!1)}},C=e=>Object.entries(e).sort((e,t)=>t[1]-e[1])[0],A=()=>{t(null),u([]),f(null),P()};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 py-12 px-4",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"inline-block bg-gradient-to-r from-purple-600 to-pink-600 p-4 rounded-3xl shadow-lg mb-4",children:r.jsx(n,{className:"w-12 h-12 text-white"})}),r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Emotion Recognition"}),r.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Upload a photo or take a selfie to detect emotions using AI-powered facial analysis"})]}),r.jsx("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:e||g?g?(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"relative rounded-2xl overflow-hidden bg-black",children:[r.jsx("video",{ref:j,autoPlay:!0,playsInline:!0,className:"w-full"}),r.jsx("canvas",{ref:w,className:"hidden"})]}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center mt-6",children:[(0,r.jsxs)("button",{onClick:()=>{if(j.current&&w.current){let e=j.current,s=w.current,r=s.getContext("2d");if(s.width=e.videoWidth,s.height=e.videoHeight,r){r.drawImage(e,0,0,s.width,s.height);let a=s.toDataURL("image/jpeg");t(a),P(),D(a)}}},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg transform transition hover:scale-105",children:[r.jsx(i,{className:"inline w-5 h-5 mr-2"}),"Capture Photo"]}),(0,r.jsxs)("button",{onClick:P,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-4 px-8 rounded-xl shadow-lg transform transition hover:scale-105",children:[r.jsx(d,{className:"inline w-5 h-5 mr-2"}),"Cancel"]})]})]}):(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"relative mb-6",children:[r.jsx("img",{src:e,alt:"Uploaded",className:"w-full max-h-96 object-contain rounded-2xl"}),r.jsx("button",{onClick:A,className:"absolute top-4 right-4 bg-white hover:bg-gray-100 text-gray-700 p-3 rounded-full shadow-lg transition",children:r.jsx(d,{className:"w-6 h-6"})})]}),s&&(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-purple-600 mb-4"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Analyzing emotions..."})]}),p&&r.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(c.Z,{className:"w-6 h-6 text-red-500"}),r.jsx("p",{className:"text-red-700 font-medium",children:p})]})}),x.length>0&&(0,r.jsxs)("div",{className:"space-y-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 text-center mb-6",children:"Detected Emotions"}),x.map((e,t)=>{let[s,a]=C(e.emotions),l=Object.entries(e.emotions).sort((e,t)=>t[1]-e[1]);return(0,r.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-2xl p-8 shadow-lg",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx("div",{className:`inline-block bg-gradient-to-r ${m[s]} p-6 rounded-3xl shadow-lg mb-4`,children:r.jsx("span",{className:"text-6xl",children:h[s]})}),r.jsx("h3",{className:"text-3xl font-bold text-gray-800 capitalize mb-2",children:s}),(0,r.jsxs)("p",{className:"text-gray-600 text-lg",children:["Dominant Emotion: ",(100*a).toFixed(1),"%"]}),e.age&&(0,r.jsxs)("p",{className:"text-gray-500 mt-2",children:["Estimated Age: ",Math.round(e.age)," • Gender: ",e.gender]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-xl font-bold text-gray-700 mb-4",children:"All Detected Emotions:"}),l.map(([e,t])=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:h[e]}),r.jsx("span",{className:"font-medium capitalize text-gray-700",children:e})]}),(0,r.jsxs)("span",{className:"font-bold text-gray-800",children:[(100*t).toFixed(1),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:`h-full bg-gradient-to-r ${m[e]} rounded-full transition-all duration-500`,style:{width:`${100*t}%`}})})]},e))]})]},t)}),r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:A,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-4 px-12 rounded-xl shadow-lg transform transition hover:scale-105",children:"Try Another Photo"})})]})]}):(0,r.jsxs)("div",{className:"p-12",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[(0,r.jsxs)("button",{onClick:k,className:"group relative bg-gradient-to-br from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-2xl p-8 shadow-lg transition-all transform hover:scale-105",children:[r.jsx(i,{className:"w-16 h-16 mx-auto mb-4"}),r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Take Photo"}),r.jsx("p",{className:"text-purple-100",children:"Use your camera"})]}),(0,r.jsxs)("button",{onClick:()=>N.current?.click(),className:"group relative bg-gradient-to-br from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white rounded-2xl p-8 shadow-lg transition-all transform hover:scale-105",children:[r.jsx(o,{className:"w-16 h-16 mx-auto mb-4"}),r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Upload Photo"}),r.jsx("p",{className:"text-blue-100",children:"Choose from device"})]})]}),r.jsx("input",{ref:N,type:"file",accept:"image/*",onChange:e=>{let s=e.target.files?.[0];if(s){let e=new FileReader;e.onload=e=>{let s=e.target?.result;t(s),D(s)},e.readAsDataURL(s)}},className:"hidden"})]})}),(0,r.jsxs)("div",{className:"mt-12 text-center text-gray-600",children:[r.jsx("p",{className:"mb-2",children:"Powered by Luxand Cloud API • AI Facial Analysis"}),r.jsx("p",{className:"text-sm",children:"Your photos are processed securely and not stored on our servers"})]})]})})}},62881:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var r=s(17577);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:n,iconNode:c,...m},h)=>(0,r.createElement)("svg",{ref:h,...d,width:t,height:t,stroke:e,strokeWidth:a?24*Number(s)/Number(t):s,className:i("lucide",l),...!n&&!o(m)&&{"aria-hidden":"true"},...m},[...c.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(n)?n:[n]])),m=(e,t)=>{let s=(0,r.forwardRef)(({className:s,...l},o)=>(0,r.createElement)(c,{ref:o,iconNode:t,className:i(`lucide-${a(n(e))}`,`lucide-${e}`,s),...l}));return s.displayName=n(e),s}},41291:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},11506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`C:\Users\Garima\Desktop\Mood_mate\app\layout.tsx#default`)},81480:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`C:\Users\Garima\Desktop\Mood_mate\app\selfie\page.tsx#default`)},4047:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,875,213],()=>s(43891));module.exports=r})();